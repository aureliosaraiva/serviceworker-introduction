<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Service Worker Introduction</title>
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="stylesheet" href="assets/app.css">
    <script>
        // Borrowed from https://github.com/GoogleChrome/samples/blob/gh-pages/service-worker/registration-events/index.html#L45
        // Service workers require HTTPS (http://goo.gl/lq4gCo). If we're running on a real web server
        // (as opposed to localhost on a custom port, which is whitelisted), then change the protocol to HTTPS.
        if ((!location.port || location.port == "80") && location.protocol != 'https:') {
            location.protocol = 'https:';
        }
    </script>
</head>
<body>
<header>
    <h1><a href="../">Service Worker Introduction</a></h1>
    <p>Step-by-step introduction to the Service Worker API.</p>
</header>

<h2>Step-by-step</h2>
<ol class="steps" start="0">
    <li><a href="00-introduction/">Introduction</a></li>
    <li><a href="01-feature-detection/">Feature detection</a></li>
    <li><a href="02-register-sw/">Register Service Worker</a></li>
    <li><a href="03-unregister-sw/">Unregister Service Worker</a></li>
    <li><a href="04-event-driven/">Event Driven</a></li>
    <li><a href="05-cache-on-install/">Cache on install</a></li>
    <li><a href="06-hijack-fetch/">Hijack fetch</a></li>
    <li><a href="07-serve-from-cache/">Serve from cache</a></li>
    <li><a href="08-cache-on-fetch/">Cache on fetch</a></li>
    <li><a href="09-clear-cache-on-activate/">Clear cache on activate</a></li>
    <li><a href="10-offline-with-fallback/">Offline with fallback</a></li>
    <li><a href="11-page-to-sw/">Page to Service Worker</a></li>
    <li><a href="12-sw-to-pages/">Service Worker to pages</a></li>
    <li><a href="13-private-messaging">Private messaging</a></li>
</ol>
<style>
    .steps {
        list-style: decimal-leading-zero;
    }
</style>

<h2 id="reset">Reset</h2>
<p>You can unregister all service workers and clear all caches by using the reset:</p>
<button type="button" id="resetAll">Reset all</button>
<pre id="output"></pre>

<script src="assets/app.js"></script>
<script>
    (function(){
        var scopes = Array.from(document.querySelectorAll('.steps a'))
            .map(function(element) { return element.getAttribute('href'); });

        if (/#reset$/.test(window.location.hash)) {
            app.resetAll(scopes);
        }
        document.getElementById('resetAll').onclick = function() {
            app.resetAll(scopes);
        };
    }());
</script>

</body>
</html>